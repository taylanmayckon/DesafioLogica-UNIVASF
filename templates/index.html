<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verificador de Fórmulas</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="main-wrapper">
        <div class="container">
            <h1>Verificador de Fórmulas</h1>
            
            <form method="POST">
                <label for="sequencia">Digite uma fórmula:</label>
                <input type="text" name="sequencia" id="sequencia" required autocomplete="off" value="{{ request.form.get('sequencia', '') }}">
                <button type="submit">Verificar</button>
            </form>

            {% if analisador is not none %}
                <div class="resultado-container">
                    <p class="formula-analisada"><strong>Fórmula analisada:</strong> {{analisador.formula_traduzida}}</p>
                    {% if analisador.resultado %}
                        <p class="resultado valido">✅ É uma fórmula válida!</p>
                        <p><strong>Propriedades semânticas:</strong></p>
                        {% for propriedade in analisador.propriedade_semantica %}
                            <li>{{propriedade}}</li>
                        {% endfor %}
                    {% else %}
                        <p class="resultado invalido">❌ Não é uma fórmula válida!</p>
                        <div class="erros-box">
                            <p><strong>Erros encontrados:</strong></p>
                            <ul>
                                {% for erro in analisador.erros %}
                                    <li>{{ erro }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                    {% endif %}
                </div>
            {% endif %}
        </div>

        <div class="container alfabeto-container">
            <h2>Alfabeto Utilizado</h2>
            <p><strong>Variáveis:</strong> Todas as letras maiúsculas, exceto 'V' e 'F'.</p>
            <p><strong>Conectivos Lógicos:</strong></p>
            <ul>
                <li><code>~</code> (Negação)</li>
                <li><code>^</code> (Conjunção)</li>
                <li><code>v</code> (Disjunção)</li>
                <li><code>></code> (Implicação)</li>
                <li><code><></code> (Bi-implicação)</li>
            </ul>
            <p><strong>Valores Lógicos:</strong> <code>V</code> (Verdadeiro), <code>F</code> (Falso).</p>
            <p><strong>Pontuação:</strong> <code>( )</code>, <code>[ ]</code>, <code>{ }</code>.</p>
        </div>
    </div> {% if analisador.tabela_verdade %}
    <div class="container tabela-verdade-container">
        <h2>Tabela Verdade</h2>
        <table>
            <thead>
                <tr>
                    {% for header in analisador.tabela_verdade[0].keys() %}
                        <th>{{ header }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for linha in analisador.tabela_verdade %}
                <tr>
                    {% for valor in linha.values() %}
                        <td class="valor-logico">{% if valor %}V{% else %}F{% endif %}</td>
                    {% endfor %}
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% endif %}

</body>
</html>